# Test application properties

# Activate test profile (disables main app SpringSecurityConfig so only TestSecurityConfig is used)
spring.profiles.active=test

# Disable Spring Cloud bootstrap context (avoids ConfigurationPropertiesRebinder failure in tests)
spring.cloud.bootstrap.enabled=false

# Disable Spring's schema initialization - we use Testcontainers with test-init.sql
spring.datasource.initialization-mode=never
spring.sql.init.mode=never

# MyBatis configuration
mybatis.mapper-locations=classpath:org/gbif/occurrence/annotation/mapper/*.xml
mybatis.type-aliases-package=org.gbif.occurrence.annotation.model

# Keep SecurityAutoConfiguration so HttpSecurity bean exists; TestSecurityConfig provides a permitAll() chain

# Allow bean definition overriding to let test security config override main app security
spring.main.allow-bean-definition-overriding=true

# Logging for debugging
logging.level.org.gbif.occurrence.annotation=DEBUG
logging.level.org.springframework.jdbc.datasource.init=DEBUG
