% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_rule.R
\name{make_rule}
\alias{make_rule}
\title{Create a new annotation rule}
\usage{
make_rule(
  taxonKey = NULL,
  geometry = NULL,
  annotation = NULL,
  basisOfRecord = NULL,
  basisOfRecordNegated = NULL,
  yearRange = NULL,
  rulesetId = NULL,
  projectId = NULL,
  supportedBy = NULL,
  contestedBy = NULL,
  created = NULL,
  createdBy = NULL,
  deleted = NULL,
  deletedBy = NULL,
  ...
)
}
\arguments{
\item{taxonKey}{(integer) GBIF taxonKey for which rule applies to (required).}

\item{geometry}{(character) WKT text string defining the geographic boundary of the rule (required).}

\item{annotation}{(character) Annotation type from controlled vocabulary (e.g., "SUSPICIOUS", "INTRODUCED", "NATIVE") (required).}

\item{basisOfRecord}{(character vector) Optional vector of basis of record values to which the rule applies (e.g., c("MACHINE_OBSERVATION", "HUMAN_OBSERVATION")).}

\item{basisOfRecordNegated}{(logical) Optional flag to negate the basisOfRecord filter.}

\item{yearRange}{(character) Optional year range in format "start,end" (e.g., "2000,2023") for temporal filtering.}

\item{rulesetId}{(character or integer) Optional ID of the ruleset this rule belongs to.}

\item{projectId}{(character or integer) Optional ID of the project this rule belongs to.}

\item{supportedBy}{(character vector) Optional vector of user IDs who support this rule.}

\item{contestedBy}{(character vector) Optional vector of user IDs who contest this rule.}

\item{created}{(character) Optional creation timestamp (ISO format).}

\item{createdBy}{(character) Optional user ID of rule creator. If not provided, automatically set from GBIF_USER environment variable.}

\item{deleted}{(character) Optional deletion timestamp (ISO format).}

\item{deletedBy}{(character) Optional user ID who deleted the rule.}

\item{...}{Additional named parameters to include in the rule payload.}
}
\value{
A list containing the API response with information about the created rule.
}
\description{
Create a new annotation rule
}
\details{
Creates a new annotation rule via the GBIF annotation service API. The rule defines
a geographic area (via WKT geometry) and taxonomic scope (via taxonKey) where
occurrences should be flagged with the specified annotation type.

The \code{annotation} parameter must be from the controlled vocabulary (e.g.,
"SUSPICIOUS", "INTRODUCED", "NATIVE"). 

The \code{basisOfRecord} parameter accepts a character vector that will be
serialized as a JSON array in the API request.
}
\examples{
\dontrun{
# Simple rule with required parameters
make_rule(
  taxonKey = 1,
  geometry = "POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))", 
  annotation = "NATIVE"
)

# Complex rule with basis of record filter
make_rule(
  taxonKey = 12345,
  geometry = "POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))",
  annotation = "SUSPICIOUS",
  basisOfRecord = c("MACHINE_OBSERVATION", "HUMAN_OBSERVATION"),
  createdBy = "user@example.com"
)
}
}
